From: Russell Steicke <russells@adelie.cx>
Subject: Allow two consecutive TWI operations.

We will very commonly want to do two operations on the DS1307 - write
to it to set the current register address, then read from that
register or series of registers.  The TWI way to do such a thing is to
use a REPEATED START so you don't lose control of the bus between the
operations, so we allow that.




NOTES:

- first change the current code to use an extra indirection through a "struct
  TWIRequest **", then add the code that checks for the second request.

- Code that handles the end of a request will need to know if it's in the first
  or second request, and also if it needs to generate a REPEATED START instead
  of a STOP.


Signed-off-by: Russell Steicke <russells@adelie.cx>
